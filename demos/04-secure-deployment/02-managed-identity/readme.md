# Using Managed Identity

- Explain Managed Identity Basics in Short
- Explain and execute: `create-api-mi.azcli`
- Give a brief overview over `food-app/apps/catalog-api/api/appsettings.json`

## Demo: Microsoft 365 SharePoint and Teams WebPart Deployment using Key Vault

- Create KeyVault using `create-vault.azcli`
- Import Pipeline `Deploy WP M365 CLI and KV.json`
- Explain Key Vault Permissions

    ![app-reg.png](_images/app-reg.png)

    ![kv-perms](_images/kv-perms.png)

- Assign Key Vault Permissions to App Registration    

- Link a Variable group accessing the Key Vault variables

    ![kv-vars](_images/kv-vars.jpg)

Import pipeline [spfx-ci-cd-kv.yml](/deploy/pipelines/spfx-ci-cd-kv.yml)